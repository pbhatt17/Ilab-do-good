<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<dom-module id="expandable-item-link">
    <template>
        <custom-style>
            <style include="iron-flex iron-flex-alignment"></style>
        </custom-style>
        <style>
         :host {
            display: block;
        }
        :host(.open) {
            outline: none;
        }
        </style>
        <iron-a11y-keys id="a11y" target="[[target]]" keys="enter space" on-keys-pressed="toggleOpen" stop-keyboard-event-propagation=""></iron-a11y-keys>
        <div class="layout horizontal label">
            <div class="layout vertical center-justified flex" id="link-label">
                <slot name="label"></slot>
            </div>
            <paper-button toggles="" tabindex="-1" aria-labelledby="link-label">
                <div class="layout vertical center-justified">
                    <div hidden$="[[isOpened]]">
                        <iron-icon icon="expand-more"></iron-icon>
                    </div>
                    <div hidden$="[[!isOpened]]">
                        <iron-icon icon="expand-less"></iron-icon>
                    </div>
                </div>
            </paper-button>
        </div>
        <div hidden$="[[!isOpened]]" aria-expanded$="[[isOpened]]">
            <slot name="items"></slot>
        </div>
    </template>
    <script>var ExpandableItemLink = function (_Polymer$Element) {
    babelHelpers.inherits(ExpandableItemLink, _Polymer$Element);
    babelHelpers.createClass(ExpandableItemLink, null, [{
        key: "is",
        get: function get() {
            return 'expandable-item-link';
        }
    }, {
        key: "properties",
        get: function get() {
            return {
                isOpened: {
                    type: Boolean,
                    value: false
                },
                role: {
                    type: String,
                    value: "button",
                    reflectToAttribute: true
                },
                tabindex: {
                    type: Number,
                    value: 0,
                    reflectToAttribute: true
                },
                target: {
                    type: Object
                }
            };
        }
    }]);

    function ExpandableItemLink() {
        babelHelpers.classCallCheck(this, ExpandableItemLink);
        return babelHelpers.possibleConstructorReturn(this, (ExpandableItemLink.__proto__ || Object.getPrototypeOf(ExpandableItemLink)).call(this));
    }

    babelHelpers.createClass(ExpandableItemLink, [{
        key: "toggleOpen",
        value: function toggleOpen(e) {
            console.log(e);
            this.isOpened = !this.isOpened;
            if (this.isOpened) {
                this.classList.add("open");
            } else {
                this.classList.remove("open");
            }
        }
    }, {
        key: "ready",
        value: function ready() {
            var _this2 = this;

            babelHelpers.get(ExpandableItemLink.prototype.__proto__ || Object.getPrototypeOf(ExpandableItemLink.prototype), "ready", this).call(this);
            this.root.querySelector('paper-button').addEventListener('click', function (event) {
                _this2.isOpened = !_this2.isOpened;
            });
            this.root.querySelector('paper-button').addEventListener('tap', function (event) {
                _this2.isOpened = !_this2.isOpened;
            });
            this.target = this;
        }
    }]);
    return ExpandableItemLink;
}(Polymer.Element);

customElements.define(ExpandableItemLink.is, ExpandableItemLink);</script>
</dom-module>